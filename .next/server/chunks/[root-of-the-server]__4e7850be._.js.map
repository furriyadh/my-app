{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 268, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/DELL/my-site/src/app/api/google-ads/route.ts"],"sourcesContent":["// src/app/api/google-ads/route.ts\r\n\r\nimport { NextRequest, NextResponse } from 'next/server';\r\nimport { createClient } from '@supabase/supabase-js';\r\n\r\n// @ts-ignore - Google Ads API doesn't have official TypeScript types\r\nconst { GoogleAdsApi } = require('google-ads-api');\r\n\r\n// ÿ•ŸÜÿ¥ÿßÿ° Supabase client ŸÑŸÑÿÆÿßÿØŸÖ\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\nconst supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY!;\r\n\r\nconst supabase = createClient(supabaseUrl, supabaseServiceKey);\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    console.log('üöÄ Next.js API Route: ÿßÿ≥ÿ™ÿØÿπÿßÿ° Google Ads data ŸÖÿπ Client Library...');\r\n    \r\n    const body = await request.json();\r\n    const { loginCustomerId, startDate, endDate, dataType, demographicType } = body;\r\n    \r\n    console.log('üì• Request body:', { loginCustomerId, startDate, endDate, dataType, demographicType });\r\n    \r\n    // Get environment variables\r\n    const refreshToken = process.env.GOOGLE_REFRESH_TOKEN;\r\n    const clientId = process.env.GOOGLE_CLIENT_ID;\r\n    const clientSecret = process.env.GOOGLE_CLIENT_SECRET;\r\n    const developerId = process.env.GOOGLE_DEVELOPER_TOKEN;\r\n    const mccCustomerId = process.env.MCC_LOGIN_CUSTOMER_ID;\r\n\r\n    console.log('üîë Environment check:', {\r\n      hasRefreshToken: !!refreshToken,\r\n      hasClientId: !!clientId,\r\n      hasClientSecret: !!clientSecret,\r\n      hasDeveloperToken: !!developerId,\r\n      hasMccCustomerId: !!mccCustomerId\r\n    });\r\n\r\n    if (!refreshToken || !clientId || !clientSecret || !developerId) {\r\n      return NextResponse.json(\r\n        { \r\n          success: false, \r\n          error: 'Missing required environment variables',\r\n          details: {\r\n            hasRefreshToken: !!refreshToken,\r\n            hasClientId: !!clientId,\r\n            hasClientSecret: !!clientSecret,\r\n            hasDeveloperToken: !!developerId,\r\n            hasMccCustomerId: !!mccCustomerId\r\n          }\r\n        },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // ÿ•ŸÜÿ¥ÿßÿ° Google Ads API client\r\n    console.log('üîß Creating Google Ads API client...');\r\n    \r\n    const client = new GoogleAdsApi({\r\n      client_id: clientId,\r\n      client_secret: clientSecret,\r\n      developer_token: developerId,\r\n    });\r\n\r\n    // Format customer ID (remove dashes)\r\n    const formattedCustomerId = loginCustomerId?.replace(/-/g, '') || '3271710441';\r\n    console.log('üéØ Using customer ID:', formattedCustomerId);\r\n\r\n    // ÿ•ŸÜÿ¥ÿßÿ° customer instance\r\n    console.log('üë§ Creating customer instance...');\r\n    \r\n    const customer = client.Customer({\r\n      customer_id: formattedCustomerId,\r\n      refresh_token: refreshToken,\r\n      login_customer_id: mccCustomerId?.replace(/-/g, '') || undefined,\r\n    });\r\n\r\n    // ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑÿ™Ÿàÿßÿ±ŸäÿÆ\r\n    const endDateFormatted = endDate || new Date().toISOString().split('T')[0];\r\n    const startDateFormatted = startDate || new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];\r\n    \r\n    console.log('üìÖ Date range:', { startDateFormatted, endDateFormatted });\r\n\r\n    let query = '';\r\n    let results: any[] = [];\r\n\r\n    // Handle different data types\r\n    if (dataType === 'demographic_insights') {\r\n      console.log('üìä Fetching demographic insights for:', demographicType);\r\n      \r\n      if (demographicType === 'age') {\r\n        query = `\r\n          SELECT \r\n            campaign.id,\r\n            campaign.name,\r\n            ad_group.id,\r\n            ad_group.name,\r\n            ad_group_criterion.age_range.type,\r\n            metrics.impressions,\r\n            metrics.clicks,\r\n            metrics.ctr,\r\n            metrics.conversions,\r\n            metrics.cost_micros,\r\n            segments.date\r\n          FROM age_range_view \r\n          WHERE campaign.status = 'ENABLED' \r\n            AND ad_group.status = 'ENABLED'\r\n            AND segments.date >= '${startDateFormatted}'\r\n            AND segments.date <= '${endDateFormatted}'\r\n        `;\r\n      } else if (demographicType === 'gender') {\r\n        query = `\r\n          SELECT \r\n            campaign.id,\r\n            campaign.name,\r\n            ad_group.id,\r\n            ad_group.name,\r\n            ad_group_criterion.gender.type,\r\n            metrics.impressions,\r\n            metrics.clicks,\r\n            metrics.ctr,\r\n            metrics.conversions,\r\n            metrics.cost_micros,\r\n            segments.date\r\n          FROM gender_view \r\n          WHERE campaign.status = 'ENABLED' \r\n            AND ad_group.status = 'ENABLED'\r\n            AND segments.date >= '${startDateFormatted}'\r\n            AND segments.date <= '${endDateFormatted}'\r\n        `;\r\n      } else if (demographicType === 'income') {\r\n        query = `\r\n          SELECT \r\n            campaign.id,\r\n            campaign.name,\r\n            ad_group.id,\r\n            ad_group.name,\r\n            ad_group_criterion.income_range.type,\r\n            metrics.impressions,\r\n            metrics.clicks,\r\n            metrics.ctr,\r\n            metrics.conversions,\r\n            metrics.cost_micros,\r\n            segments.date\r\n          FROM income_range_view \r\n          WHERE campaign.status = 'ENABLED' \r\n            AND ad_group.status = 'ENABLED'\r\n            AND segments.date >= '${startDateFormatted}'\r\n            AND segments.date <= '${endDateFormatted}'\r\n        `;\r\n      }\r\n    } else if (dataType === 'auction_insights') {\r\n      console.log('üéØ Fetching auction insights...');\r\n      query = `\r\n        SELECT \r\n          campaign.id,\r\n          campaign.name,\r\n          metrics.search_impression_share,\r\n          metrics.search_top_impression_share,\r\n          metrics.search_absolute_top_impression_share,\r\n          metrics.impressions,\r\n          metrics.clicks,\r\n          segments.date\r\n        FROM campaign \r\n        WHERE campaign.status = 'ENABLED' \r\n          AND segments.date >= '${startDateFormatted}'\r\n          AND segments.date <= '${endDateFormatted}'\r\n      `;\r\n    } else {\r\n      // Default campaign data\r\n      console.log('üìà Fetching campaign data...');\r\n      query = `\r\n        SELECT \r\n          campaign.id,\r\n          campaign.name,\r\n          campaign.status,\r\n          metrics.cost_micros,\r\n          metrics.clicks,\r\n          metrics.impressions,\r\n          segments.date\r\n        FROM campaign \r\n        WHERE campaign.status = 'ENABLED' \r\n          AND segments.date >= '${startDateFormatted}'\r\n          AND segments.date <= '${endDateFormatted}'\r\n      `;\r\n    }\r\n\r\n    console.log('üì° Executing Google Ads query...');\r\n    console.log('üîç Query:', query.trim());\r\n\r\n    // ÿ™ŸÜŸÅŸäÿ∞ ÿßŸÑÿßÿ≥ÿ™ÿπŸÑÿßŸÖ\r\n    results = await customer.query(query.trim());\r\n    \r\n    console.log('‚úÖ Query executed successfully');\r\n    console.log('üìä Results count:', results.length);\r\n\r\n    // Transform data based on type\r\n    let transformedData: any = [];\r\n\r\n    if (dataType === 'demographic_insights') {\r\n      // Group by demographic value\r\n      const demographicGroups: { [key: string]: any } = {};\r\n      \r\n      results.forEach((row: any) => {\r\n        let demographicValue = '';\r\n        \r\n        if (demographicType === 'age') {\r\n          demographicValue = row.ad_group_criterion?.age_range?.type || 'Unknown';\r\n          // Clean up age range names\r\n          demographicValue = demographicValue.replace('AGE_RANGE_', '').replace('_', '-');\r\n        } else if (demographicType === 'gender') {\r\n          demographicValue = row.ad_group_criterion?.gender?.type || 'Unknown';\r\n          // Clean up gender names\r\n          demographicValue = demographicValue.replace('GENDER_', '');\r\n        } else if (demographicType === 'income') {\r\n          demographicValue = row.ad_group_criterion?.income_range?.type || 'Unknown';\r\n          // Clean up income names\r\n          demographicValue = demographicValue.replace('HOUSEHOLD_INCOME_', '').replace('_', ' ');\r\n        }\r\n        \r\n        if (!demographicGroups[demographicValue]) {\r\n          demographicGroups[demographicValue] = {\r\n            demographic_value: demographicValue,\r\n            impressions: 0,\r\n            clicks: 0,\r\n            conversions: 0,\r\n            cost_micros: 0\r\n          };\r\n        }\r\n        \r\n        const metrics = row.metrics || {};\r\n        demographicGroups[demographicValue].impressions += parseInt(metrics.impressions) || 0;\r\n        demographicGroups[demographicValue].clicks += parseInt(metrics.clicks) || 0;\r\n        demographicGroups[demographicValue].conversions += parseInt(metrics.conversions) || 0;\r\n        demographicGroups[demographicValue].cost_micros += parseInt(metrics.cost_micros) || 0;\r\n      });\r\n      \r\n      // Calculate averages and convert to final format\r\n      transformedData = Object.values(demographicGroups).map((group: any) => ({\r\n        demographic_value: group.demographic_value,\r\n        impressions: group.impressions,\r\n        clicks: group.clicks,\r\n        ctr: group.impressions > 0 ? ((group.clicks / group.impressions) * 100) : 0,\r\n        conversions: group.conversions,\r\n        cost: group.cost_micros / 1000000,\r\n        conversion_rate: group.clicks > 0 ? ((group.conversions / group.clicks) * 100) : 0,\r\n        cost_per_conversion: group.conversions > 0 ? (group.cost_micros / 1000000 / group.conversions) : 0\r\n      }));\r\n\r\n    } else if (dataType === 'auction_insights') {\r\n      // Calculate auction insights summary\r\n      let totalSearchImpressionShare = 0;\r\n      let totalTopImpressionShare = 0;\r\n      let totalAbsoluteTopImpressionShare = 0;\r\n      let totalPosition = 0;\r\n      let validRows = 0;\r\n      \r\n      results.forEach((row: any) => {\r\n        const metrics = row.metrics || {};\r\n        if (metrics.impressions && parseInt(metrics.impressions) > 0) {\r\n          totalSearchImpressionShare += parseFloat(metrics.search_impression_share) || 0;\r\n          totalTopImpressionShare += parseFloat(metrics.search_top_impression_share) || 0;\r\n          totalAbsoluteTopImpressionShare += parseFloat(metrics.search_absolute_top_impression_share) || 0;\r\n          validRows++;\r\n        }\r\n      });\r\n      \r\n      transformedData = {\r\n        impression_share: validRows > 0 ? (totalSearchImpressionShare / validRows) : 0,\r\n        avg_position: 2.3, // Static value since average_position is deprecated\r\n        overlap_rate: validRows > 0 ? (totalTopImpressionShare / validRows) : 0,\r\n        top_of_page_rate: validRows > 0 ? (totalAbsoluteTopImpressionShare / validRows) : 0,\r\n        competitors: [], // Would need separate API call for competitor data\r\n        time_series: results.map((row: any) => ({\r\n          date: row.segments?.date || '',\r\n          impression_share: parseFloat(row.metrics?.search_impression_share) || 0,\r\n          avg_position: 2.3, // Static value\r\n          overlap_rate: parseFloat(row.metrics?.search_top_impression_share) || 0\r\n        }))\r\n      };\r\n\r\n    } else {\r\n      // Default campaign transformation\r\n      transformedData = results.map((row: any, index: number) => {\r\n        const campaign = row.campaign || {};\r\n        const metrics = row.metrics || {};\r\n        const segments = row.segments || {};\r\n        \r\n        return {\r\n          id: campaign.id?.toString() || `campaign_${index}`,\r\n          name: campaign.name || 'Unknown Campaign',\r\n          status: campaign.status || 'UNKNOWN',\r\n          cost: metrics.cost_micros ? (parseInt(metrics.cost_micros) / 1000000).toFixed(2) : '0.00',\r\n          clicks: parseInt(metrics.clicks) || 0,\r\n          impressions: parseInt(metrics.impressions) || 0,\r\n          date: segments.date || 'unknown',\r\n          type: 'campaign',\r\n          platform: 'google_ads',\r\n          currency: 'USD'\r\n        };\r\n      });\r\n    }\r\n\r\n    console.log('üîÑ Data transformed:', transformedData);\r\n\r\n    // Handle campaign summary only for default campaign data\r\n    let finalData = transformedData;\r\n    \r\n    if (dataType !== 'demographic_insights' && dataType !== 'auction_insights') {\r\n      // ÿ™ÿ¨ŸÖŸäÿπ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ≠ÿ≥ÿ® ÿßŸÑÿ≠ŸÖŸÑÿ© (ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸáŸÜÿßŸÉ ÿπÿØÿ© ÿ£ŸäÿßŸÖ)\r\n      const campaignSummary = transformedData.reduce((acc: any, row: any) => {\r\n        const campaignId = row.id;\r\n        if (!acc[campaignId]) {\r\n          acc[campaignId] = {\r\n            id: row.id,\r\n            name: row.name,\r\n            status: row.status,\r\n            cost: 0,\r\n            clicks: 0,\r\n            impressions: 0,\r\n            dates: [],\r\n            type: row.type,\r\n            platform: row.platform,\r\n            currency: row.currency\r\n          };\r\n        }\r\n        \r\n        acc[campaignId].cost += parseFloat(row.cost);\r\n        acc[campaignId].clicks += parseInt(row.clicks);\r\n        acc[campaignId].impressions += parseInt(row.impressions);\r\n        acc[campaignId].dates.push(row.date);\r\n        \r\n        return acc;\r\n      }, {});\r\n\r\n      finalData = Object.values(campaignSummary).map((campaign: any) => ({\r\n        ...campaign,\r\n        cost: campaign.cost.toFixed(2),\r\n        // ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿ•ÿ∂ÿßŸÅŸäÿ©\r\n        ctr: campaign.impressions > 0 ? ((campaign.clicks / campaign.impressions) * 100).toFixed(2) : '0.00',\r\n        cpc: campaign.clicks > 0 ? (campaign.cost / campaign.clicks).toFixed(2) : '0.00',\r\n        dateRange: `${startDateFormatted} to ${endDateFormatted}`\r\n      }));\r\n    }\r\n\r\n    console.log('üîÑ Data transformed and summarized:', finalData);\r\n\r\n    // Save data to Supabase Database with proper structure\r\n    try {\r\n      console.log('üíæ Saving data to Supabase...');\r\n      \r\n      // ÿ•ŸÜÿ¥ÿßÿ° record Ÿàÿßÿ≠ÿØ ŸÑŸÑÿ≠ŸÅÿ∏\r\n      const supabaseRecord = {\r\n        customer_id: formattedCustomerId,\r\n        campaigns_data: finalData, // ÿ≠ŸÅÿ∏ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÉŸÄ JSON\r\n        total_campaigns: finalData.length,\r\n        total_cost: finalData.reduce((sum: number, campaign: any) => sum + parseFloat(campaign.cost), 0).toFixed(2),\r\n        total_clicks: finalData.reduce((sum: number, campaign: any) => sum + campaign.clicks, 0),\r\n        total_impressions: finalData.reduce((sum: number, campaign: any) => sum + campaign.impressions, 0),\r\n        date_range_start: startDateFormatted,\r\n        date_range_end: endDateFormatted,\r\n        fetched_at: new Date().toISOString(),\r\n        data_type: dataType || 'campaigns'\r\n      };\r\n\r\n      const { error: saveError } = await supabase\r\n        .from('google_ads_campaigns')\r\n        .upsert(supabaseRecord, {\r\n          onConflict: 'customer_id,date_range_start,date_range_end'\r\n        });\r\n\r\n      if (saveError) {\r\n        console.error('‚ùå Supabase save error:', saveError);\r\n      } else {\r\n        console.log('‚úÖ Data saved to Supabase successfully');\r\n      }\r\n    } catch (saveError) {\r\n      console.error('‚ùå Supabase save failed:', saveError);\r\n      // Continue even if save fails\r\n    }\r\n    \r\n    // ÿ•ÿ±ÿ¨ÿßÿπ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ®ÿßŸÑÿ™ŸÜÿ≥ŸäŸÇ ÿßŸÑŸÖÿ™ŸàŸÇÿπ ŸÖŸÜ Frontend\r\n    const response = {\r\n      success: true,\r\n      data: finalData,\r\n      dataType: dataType,\r\n      demographicType: demographicType,\r\n      summary: dataType === 'demographic_insights' || dataType === 'auction_insights' ? null : {\r\n        totalCampaigns: Array.isArray(finalData) ? finalData.length : 0,\r\n        totalCost: Array.isArray(finalData) ? finalData.reduce((sum: number, campaign: any) => sum + parseFloat(campaign.cost), 0).toFixed(2) : '0.00',\r\n        totalClicks: Array.isArray(finalData) ? finalData.reduce((sum: number, campaign: any) => sum + campaign.clicks, 0) : 0,\r\n        totalImpressions: Array.isArray(finalData) ? finalData.reduce((sum: number, campaign: any) => sum + campaign.impressions, 0) : 0,\r\n        dateRange: `${startDateFormatted} to ${endDateFormatted}`\r\n      },\r\n      metadata: {\r\n        query: query.trim(),\r\n        customerId: formattedCustomerId,\r\n        fetchedAt: new Date().toISOString(),\r\n        source: 'google_ads_api'\r\n      }\r\n    };\r\n\r\n    console.log('üì§ Sending response:', response);\r\n    \r\n    return NextResponse.json(response);\r\n    \r\n  } catch (error: any) {\r\n    console.error('üí• ÿÆÿ∑ÿ£ ŸÅŸä Google Ads API:', error);\r\n    \r\n    // ÿ™ŸÅÿµŸäŸÑ ÿ£ŸÉÿ´ÿ± ŸÑŸÑÿ£ÿÆÿ∑ÿßÿ°\r\n    let errorMessage = error.message || 'Unknown error';\r\n    let errorDetails = {};\r\n    \r\n    if (error.details) {\r\n      errorDetails = error.details;\r\n    }\r\n    \r\n    if (error.failure) {\r\n      errorDetails = { ...errorDetails, failure: error.failure };\r\n    }\r\n    \r\n    if (error.errors) {\r\n      errorDetails = { ...errorDetails, errors: error.errors };\r\n    }\r\n    \r\n    return NextResponse.json(\r\n      { \r\n        success: false, \r\n        error: 'Google Ads API error',\r\n        message: errorMessage,\r\n        details: errorDetails,\r\n        timestamp: new Date().toISOString()\r\n      },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\nexport async function GET(request: NextRequest) {\r\n  return NextResponse.json({ \r\n    message: 'Google Ads API Route is working with Client Library. Use POST method to fetch data.',\r\n    timestamp: new Date().toISOString(),\r\n    library: 'google-ads-api',\r\n    status: 'ready',\r\n    endpoints: {\r\n      campaigns: 'POST /api/google-ads with dataType: campaigns',\r\n      demographics: 'POST /api/google-ads with dataType: demographic_insights & demographicType: age|gender|income',\r\n      auction_insights: 'POST /api/google-ads with dataType: auction_insights'\r\n    }\r\n  });\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}